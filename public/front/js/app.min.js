jQuery(document).ready(function(){
  // Banner background image
  var bg_img = jQuery('.banner-wrap .img-wrap img').attr('src');
  jQuery('.banner-wrap').css('background-image', 'url(' + bg_img + ')');

// Sticky Header
  jQuery(window).on('scroll', function() {
    var scrolled = jQuery(window).scrollTop();
    if(scrolled > 30) {
      jQuery('body').addClass('sticky-header');
    }
    else {
      jQuery('body').removeClass('sticky-header');
    }
  });
  // End 

  // Header dropdown js
  jQuery('.right-wrap .lang .icon').on('click', function(e) {
    e.stopPropagation();
    jQuery('.currency .option-dropdown').removeClass('show');
    jQuery(this).next('.option-dropdown').toggleClass('show');
  });

  jQuery('.right-wrap .currency .icon').on('click', function(e) {
    e.stopPropagation();
    jQuery('.lang .option-dropdown').removeClass('show');
    jQuery(this).next('.option-dropdown').toggleClass('show');
  });
  jQuery('body').on('click', function() {
    jQuery('.currency .option-dropdown').removeClass('show');
    jQuery('.lang .option-dropdown').removeClass('show');
  });
  jQuery('.option-dropdown').on('click', function(e) {
    e.stopPropagation();
  });

  // Toggle menu
  jQuery('body').click(function(){
    if (jQuery(window).width() <= 992) {
      jQuery('.nav-bar').slideUp();
    }
  });
  jQuery('.nav-bar').click(function(e){
    event.stopPropagation();
  });
  jQuery('.toggle-button').click(function() {
    if (jQuery(window).width() <= 992) {
      event.stopPropagation();
      jQuery('.nav-bar').slideToggle();
    }
  });

  jQuery('body').click(function(){
    jQuery('.submenu').slideUp();
  });
  jQuery('.toggle-button').click(function() {
    event.stopPropagation();
    jQuery('.nav-bar').toggleClass('side-menu');
      jQuery('.submenu').slideUp();
      jQuery('.sub-menu').removeClass('active');
  });
  jQuery('.close-btn a').click(function() {
    jQuery('.nav-bar').removeClass('side-menu');
  });
  jQuery('.sub-menu > a').click(function() {
    event.stopPropagation();
    jQuery(this).parent('.sub-menu').siblings().find('.submenu').slideUp();
    jQuery(this).parent('.sub-menu').siblings('.sub-menu').removeClass('active');
    jQuery(this).next('.submenu').slideToggle();
    jQuery(this).parent('.sub-menu').toggleClass('active');
  });
  jQuery('.nav-bar').click(function() {
    event.stopPropagation();
  }); 


  // Custom checkbox js
  // jQuery('input[type="checkbox"]').wrap('<div class="input-rc"></div>');
  // jQuery('.input-rc').append('<span class="input-rc-span"></span>');

  jQuery('.slider-wrap .items').slick({
    centerMode: true,
    slidesToShow: 1,
    arrows: false,
    dots: true,
    responsive: [
    {
      breakpoint: 992,
      settings: {
        centerMode: false
      }
    }
    ]
  });

  jQuery('.quickview a').click(function() {
    setTimeout(function(){
      jQuery('.product-slider .items').owlCarousel({
        loop: true,
        nav: true,
        autoplay: false,
        dots: true,
        autoWidth: false,
        slideBy: 1,
        items:1
      });
    }, 180);
  });

  quantity_input();


  // Custom Selectbox JS
  jQuery('.search-wrap select').each(function(){
    var jQuerythis = jQuery(this), numberOfOptions = jQuery(this).children('option').length;
  
    jQuerythis.addClass('select-hidden'); 
    jQuerythis.wrap('<div class="select"></div>');
    jQuerythis.after('<div class="select-styled"></div>');

    var jQuerystyledSelect = jQuerythis.next('div.select-styled');
    jQuerystyledSelect.text(jQuerythis.children('option').eq(0).text());
  
    var jQuerylist = jQuery('<ul />', {
        'class': 'select-options'
    }).insertAfter(jQuerystyledSelect);
  
    for (var i = 0; i < numberOfOptions; i++) {
        jQuery('<li />', {
            text: jQuerythis.children('option').eq(i).text(),
            rel: jQuerythis.children('option').eq(i).val()
        }).appendTo(jQuerylist);
    }
  
    var jQuerylistItems = jQuerylist.children('li');
  
    jQuerystyledSelect.click(function(e) {
        e.stopPropagation();
        jQuery('div.select-styled.active').not(this).each(function(){
            jQuery(this).removeClass('active').next('ul.select-options').hide();
        });
        jQuery(this).toggleClass('active').next('ul.select-options').toggle();
    });
  
    jQuerylistItems.click(function(e) {
        e.stopPropagation();
        jQuerystyledSelect.text(jQuery(this).text()).removeClass('active');
        jQuerythis.val(jQuery(this).attr('rel'));
        jQuerylist.hide();
        //console.log(jQuerythis.val());
    });
    jQuery('.select-options li').click(function(){
      jQuery('.select-options li').removeClass('active');
      jQuery(this).addClass('active');
    });
    jQuery(document).click(function() {
        jQuerystyledSelect.removeClass('active');
        jQuerylist.hide();
    });
  });


  // Top Collections slider
  jQuery('.collection-slider .items').owlCarousel({
    loop: true,
    nav: true,
    autoplay: true,
    dots: false,
    autoWidth: false,
    slideBy: 5,
    items: 5,
    margin: 30
  });

  // Tabs JS
  jQuery('.mobile-tabs-wrap li a').click(function() {
    var target = "#" + this.getAttribute('data-target');
    jQuery('.mobile-tabs-wrap li a').removeClass('active');
    jQuery('.tabs-con').removeClass('active');
    jQuery(this).addClass('active');
    jQuery('body').find(target).addClass('active');
  });

});

// Custom input type number js
function quantity_input() {
  jQuery('<div class="quantity-nav"><div class="quantity-button quantity-down">-</div><div class="quantity-button quantity-up">+</div></div>').one().insertBefore('.qty');
  jQuery('.qty, .quantity-nav').one().wrapAll('<div class="quantity"></div>');

  jQuery('.quantity').each(function() {
    var spinner = jQuery(this),
      input = spinner.find('.qty'),
      btnUp = spinner.find('.quantity-up'),
      btnDown = spinner.find('.quantity-down'),
      min = input.attr('min'),
      max = input.attr('max');

    btnUp.click(function() {
      var oldValue = parseFloat(input.val());
      if (oldValue >= max) {
        var newVal = oldValue;
      } else {
        var newVal = oldValue + 1;
      }
      spinner.find(".qty").val(newVal);
      spinner.find(".qty").click("change");
    });

    btnDown.click(function() {
      var oldValue = parseFloat(input.val());
      if (oldValue <= min) {
        var newVal = oldValue;
      } else {
        var newVal = oldValue - 1;
      }
      spinner.find(".qty").val(newVal);
      spinner.find(".qty").click("change");
    });
  });
}


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gIC8vIEJhbm5lciBiYWNrZ3JvdW5kIGltYWdlXG4gIHZhciBiZ19pbWcgPSBqUXVlcnkoJy5iYW5uZXItd3JhcCAuaW1nLXdyYXAgaW1nJykuYXR0cignc3JjJyk7XG4gIGpRdWVyeSgnLmJhbm5lci13cmFwJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybCgnICsgYmdfaW1nICsgJyknKTtcblxuLy8gU3RpY2t5IEhlYWRlclxuICBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjcm9sbGVkID0galF1ZXJ5KHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgaWYoc2Nyb2xsZWQgPiAzMCkge1xuICAgICAgalF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ3N0aWNreS1oZWFkZXInKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnc3RpY2t5LWhlYWRlcicpO1xuICAgIH1cbiAgfSk7XG4gIC8vIEVuZCBcblxuICAvLyBIZWFkZXIgZHJvcGRvd24ganNcbiAgalF1ZXJ5KCcucmlnaHQtd3JhcCAubGFuZyAuaWNvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGpRdWVyeSgnLmN1cnJlbmN5IC5vcHRpb24tZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIGpRdWVyeSh0aGlzKS5uZXh0KCcub3B0aW9uLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ3Nob3cnKTtcbiAgfSk7XG5cbiAgalF1ZXJ5KCcucmlnaHQtd3JhcCAuY3VycmVuY3kgLmljb24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBqUXVlcnkoJy5sYW5nIC5vcHRpb24tZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIGpRdWVyeSh0aGlzKS5uZXh0KCcub3B0aW9uLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ3Nob3cnKTtcbiAgfSk7XG4gIGpRdWVyeSgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGpRdWVyeSgnLmN1cnJlbmN5IC5vcHRpb24tZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIGpRdWVyeSgnLmxhbmcgLm9wdGlvbi1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gIH0pO1xuICBqUXVlcnkoJy5vcHRpb24tZHJvcGRvd24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbiAgLy8gVG9nZ2xlIG1lbnVcbiAgalF1ZXJ5KCdib2R5JykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBpZiAoalF1ZXJ5KHdpbmRvdykud2lkdGgoKSA8PSA5OTIpIHtcbiAgICAgIGpRdWVyeSgnLm5hdi1iYXInKS5zbGlkZVVwKCk7XG4gICAgfVxuICB9KTtcbiAgalF1ZXJ5KCcubmF2LWJhcicpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbiAgalF1ZXJ5KCcudG9nZ2xlLWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIGlmIChqUXVlcnkod2luZG93KS53aWR0aCgpIDw9IDk5Mikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBqUXVlcnkoJy5uYXYtYmFyJykuc2xpZGVUb2dnbGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGpRdWVyeSgnYm9keScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgalF1ZXJ5KCcuc3VibWVudScpLnNsaWRlVXAoKTtcbiAgfSk7XG4gIGpRdWVyeSgnLnRvZ2dsZS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBqUXVlcnkoJy5uYXYtYmFyJykudG9nZ2xlQ2xhc3MoJ3NpZGUtbWVudScpO1xuICAgICAgalF1ZXJ5KCcuc3VibWVudScpLnNsaWRlVXAoKTtcbiAgICAgIGpRdWVyeSgnLnN1Yi1tZW51JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbiAgalF1ZXJ5KCcuY2xvc2UtYnRuIGEnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICBqUXVlcnkoJy5uYXYtYmFyJykucmVtb3ZlQ2xhc3MoJ3NpZGUtbWVudScpO1xuICB9KTtcbiAgalF1ZXJ5KCcuc3ViLW1lbnUgPiBhJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgalF1ZXJ5KHRoaXMpLnBhcmVudCgnLnN1Yi1tZW51Jykuc2libGluZ3MoKS5maW5kKCcuc3VibWVudScpLnNsaWRlVXAoKTtcbiAgICBqUXVlcnkodGhpcykucGFyZW50KCcuc3ViLW1lbnUnKS5zaWJsaW5ncygnLnN1Yi1tZW51JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGpRdWVyeSh0aGlzKS5uZXh0KCcuc3VibWVudScpLnNsaWRlVG9nZ2xlKCk7XG4gICAgalF1ZXJ5KHRoaXMpLnBhcmVudCgnLnN1Yi1tZW51JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbiAgalF1ZXJ5KCcubmF2LWJhcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTsgXG5cblxuICAvLyBDdXN0b20gY2hlY2tib3gganNcbiAgalF1ZXJ5KCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS53cmFwKCc8ZGl2IGNsYXNzPVwiaW5wdXQtcmNcIj48L2Rpdj4nKTtcbiAgalF1ZXJ5KCcuaW5wdXQtcmMnKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaW5wdXQtcmMtc3BhblwiPjwvc3Bhbj4nKTtcblxuICBqUXVlcnkoJy5zbGlkZXItd3JhcCAuaXRlbXMnKS5zbGljayh7XG4gICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgYXJyb3dzOiBmYWxzZSxcbiAgICBkb3RzOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IFtcbiAgICB7XG4gICAgICBicmVha3BvaW50OiA5OTIsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBdXG4gIH0pO1xuXG4gIGpRdWVyeSgnLnF1aWNrdmlldyBhJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgalF1ZXJ5KCcucHJvZHVjdC1zbGlkZXIgLml0ZW1zJykub3dsQ2Fyb3VzZWwoe1xuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBuYXY6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICAgICAgc2xpZGVCeTogMSxcbiAgICAgICAgaXRlbXM6MVxuICAgICAgfSk7XG4gICAgfSwgMTgwKTtcbiAgfSk7XG5cbiAgcXVhbnRpdHlfaW5wdXQoKTtcblxuXG4gIC8vIEN1c3RvbSBTZWxlY3Rib3ggSlNcbiAgalF1ZXJ5KCcuc2VhcmNoLXdyYXAgc2VsZWN0JykuZWFjaChmdW5jdGlvbigpe1xuICAgIHZhciBqUXVlcnl0aGlzID0galF1ZXJ5KHRoaXMpLCBudW1iZXJPZk9wdGlvbnMgPSBqUXVlcnkodGhpcykuY2hpbGRyZW4oJ29wdGlvbicpLmxlbmd0aDtcbiAgXG4gICAgalF1ZXJ5dGhpcy5hZGRDbGFzcygnc2VsZWN0LWhpZGRlbicpOyBcbiAgICBqUXVlcnl0aGlzLndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3RcIj48L2Rpdj4nKTtcbiAgICBqUXVlcnl0aGlzLmFmdGVyKCc8ZGl2IGNsYXNzPVwic2VsZWN0LXN0eWxlZFwiPjwvZGl2PicpO1xuXG4gICAgdmFyIGpRdWVyeXN0eWxlZFNlbGVjdCA9IGpRdWVyeXRoaXMubmV4dCgnZGl2LnNlbGVjdC1zdHlsZWQnKTtcbiAgICBqUXVlcnlzdHlsZWRTZWxlY3QudGV4dChqUXVlcnl0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcSgwKS50ZXh0KCkpO1xuICBcbiAgICB2YXIgalF1ZXJ5bGlzdCA9IGpRdWVyeSgnPHVsIC8+Jywge1xuICAgICAgICAnY2xhc3MnOiAnc2VsZWN0LW9wdGlvbnMnXG4gICAgfSkuaW5zZXJ0QWZ0ZXIoalF1ZXJ5c3R5bGVkU2VsZWN0KTtcbiAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZk9wdGlvbnM7IGkrKykge1xuICAgICAgICBqUXVlcnkoJzxsaSAvPicsIHtcbiAgICAgICAgICAgIHRleHQ6IGpRdWVyeXRoaXMuY2hpbGRyZW4oJ29wdGlvbicpLmVxKGkpLnRleHQoKSxcbiAgICAgICAgICAgIHJlbDogalF1ZXJ5dGhpcy5jaGlsZHJlbignb3B0aW9uJykuZXEoaSkudmFsKClcbiAgICAgICAgfSkuYXBwZW5kVG8oalF1ZXJ5bGlzdCk7XG4gICAgfVxuICBcbiAgICB2YXIgalF1ZXJ5bGlzdEl0ZW1zID0galF1ZXJ5bGlzdC5jaGlsZHJlbignbGknKTtcbiAgXG4gICAgalF1ZXJ5c3R5bGVkU2VsZWN0LmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgalF1ZXJ5KCdkaXYuc2VsZWN0LXN0eWxlZC5hY3RpdmUnKS5ub3QodGhpcykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCd1bC5zZWxlY3Qtb3B0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeSh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJykubmV4dCgndWwuc2VsZWN0LW9wdGlvbnMnKS50b2dnbGUoKTtcbiAgICB9KTtcbiAgXG4gICAgalF1ZXJ5bGlzdEl0ZW1zLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgalF1ZXJ5c3R5bGVkU2VsZWN0LnRleHQoalF1ZXJ5KHRoaXMpLnRleHQoKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBqUXVlcnl0aGlzLnZhbChqUXVlcnkodGhpcykuYXR0cigncmVsJykpO1xuICAgICAgICBqUXVlcnlsaXN0LmhpZGUoKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhqUXVlcnl0aGlzLnZhbCgpKTtcbiAgICB9KTtcbiAgICBqUXVlcnkoJy5zZWxlY3Qtb3B0aW9ucyBsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICBqUXVlcnkoJy5zZWxlY3Qtb3B0aW9ucyBsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIGpRdWVyeSh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgalF1ZXJ5c3R5bGVkU2VsZWN0LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgalF1ZXJ5bGlzdC5oaWRlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gVG9wIENvbGxlY3Rpb25zIHNsaWRlclxuICBqUXVlcnkoJy5jb2xsZWN0aW9uLXNsaWRlciAuaXRlbXMnKS5vd2xDYXJvdXNlbCh7XG4gICAgbG9vcDogdHJ1ZSxcbiAgICBuYXY6IHRydWUsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBzbGlkZUJ5OiA1LFxuICAgIGl0ZW1zOiA1LFxuICAgIG1hcmdpbjogMzBcbiAgfSk7XG5cbiAgLy8gVGFicyBKU1xuICBqUXVlcnkoJy5tb2JpbGUtdGFicy13cmFwIGxpIGEnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICB2YXIgdGFyZ2V0ID0gXCIjXCIgKyB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcbiAgICBqUXVlcnkoJy5tb2JpbGUtdGFicy13cmFwIGxpIGEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgalF1ZXJ5KCcudGFicy1jb24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgalF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICBqUXVlcnkoJ2JvZHknKS5maW5kKHRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcblxufSk7XG5cbi8vIEN1c3RvbSBpbnB1dCB0eXBlIG51bWJlciBqc1xuZnVuY3Rpb24gcXVhbnRpdHlfaW5wdXQoKSB7XG4gIGpRdWVyeSgnPGRpdiBjbGFzcz1cInF1YW50aXR5LW5hdlwiPjxkaXYgY2xhc3M9XCJxdWFudGl0eS1idXR0b24gcXVhbnRpdHktZG93blwiPi08L2Rpdj48ZGl2IGNsYXNzPVwicXVhbnRpdHktYnV0dG9uIHF1YW50aXR5LXVwXCI+KzwvZGl2PjwvZGl2PicpLm9uZSgpLmluc2VydEJlZm9yZSgnLnF0eScpO1xuICBqUXVlcnkoJy5xdHksIC5xdWFudGl0eS1uYXYnKS5vbmUoKS53cmFwQWxsKCc8ZGl2IGNsYXNzPVwicXVhbnRpdHlcIj48L2Rpdj4nKTtcblxuICBqUXVlcnkoJy5xdWFudGl0eScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNwaW5uZXIgPSBqUXVlcnkodGhpcyksXG4gICAgICBpbnB1dCA9IHNwaW5uZXIuZmluZCgnLnF0eScpLFxuICAgICAgYnRuVXAgPSBzcGlubmVyLmZpbmQoJy5xdWFudGl0eS11cCcpLFxuICAgICAgYnRuRG93biA9IHNwaW5uZXIuZmluZCgnLnF1YW50aXR5LWRvd24nKSxcbiAgICAgIG1pbiA9IGlucHV0LmF0dHIoJ21pbicpLFxuICAgICAgbWF4ID0gaW5wdXQuYXR0cignbWF4Jyk7XG5cbiAgICBidG5VcC5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHBhcnNlRmxvYXQoaW5wdXQudmFsKCkpO1xuICAgICAgaWYgKG9sZFZhbHVlID49IG1heCkge1xuICAgICAgICB2YXIgbmV3VmFsID0gb2xkVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV3VmFsID0gb2xkVmFsdWUgKyAxO1xuICAgICAgfVxuICAgICAgc3Bpbm5lci5maW5kKFwiLnF0eVwiKS52YWwobmV3VmFsKTtcbiAgICAgIHNwaW5uZXIuZmluZChcIi5xdHlcIikuY2xpY2soXCJjaGFuZ2VcIik7XG4gICAgfSk7XG5cbiAgICBidG5Eb3duLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9sZFZhbHVlID0gcGFyc2VGbG9hdChpbnB1dC52YWwoKSk7XG4gICAgICBpZiAob2xkVmFsdWUgPD0gbWluKSB7XG4gICAgICAgIHZhciBuZXdWYWwgPSBvbGRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXdWYWwgPSBvbGRWYWx1ZSAtIDE7XG4gICAgICB9XG4gICAgICBzcGlubmVyLmZpbmQoXCIucXR5XCIpLnZhbChuZXdWYWwpO1xuICAgICAgc3Bpbm5lci5maW5kKFwiLnF0eVwiKS5jbGljayhcImNoYW5nZVwiKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbiJdfQ==
